code that does hierarchical sort

given data has multiple properties. It is required to sort data by last field and keep the alphabetical order of properties. The property name $total has higher priority.
